import{l as m,r as s,j as a,m as h,n as b,d as v,L as g,o as j,b as k,p as z}from"./index-B7WG_kHJ-1769026461592.js";import{m as n}from"./motion-DSM7Rpg2-1769026461592.js";const e={accent:"#6ad4a0",accentLight:"#a0e8c4",border:"rgba(106, 212, 160, 0.15)",textMuted:"rgba(255, 255, 255, 0.75)",textPrimary:"#ffffff",bgCard:"rgba(20, 18, 15, 0.7)",error:"#ef4444",success:"#10b981"},$=({count:d=12})=>{const o=s.useMemo(()=>Array.from({length:d},(i,r)=>({id:r,size:2+Math.random()*3,left:Math.random()*100,delay:Math.random()*5,duration:10+Math.random()*10,opacity:.15+Math.random()*.25})),[d]);return a.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",style:{zIndex:1},children:o.map(i=>a.jsx(n.div,{className:"absolute rounded-full",style:{width:i.size,height:i.size,left:`${i.left}%`,bottom:"-10px",background:e.accent,boxShadow:`0 0 ${i.size}px ${e.accent}`,opacity:i.opacity},animate:{y:[0,-window.innerHeight-50],opacity:[0,i.opacity,i.opacity,0]},transition:{duration:i.duration,delay:i.delay,repeat:1/0,ease:"linear"}},i.id))})},L=()=>{const[d]=m(),o=d.get("token"),[i,r]=s.useState("loading"),[y,l]=s.useState(""),[t,u]=s.useState(!1);return s.useEffect(()=>{const p=()=>u(window.innerWidth<640);return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),s.useEffect(()=>{(async()=>{var x,f;if(!o){r("error"),l("Link non valido. Token mancante.");return}try{const c=await z.get(`/api/auth/verify-email?token=${o}`);c.data.success?(r("success"),l(c.data.message||"Email verificata con successo!")):(r("error"),l(c.data.error||"Errore durante la verifica"))}catch(c){r("error"),l(((f=(x=c.response)==null?void 0:x.data)==null?void 0:f.error)||"Token non valido o scaduto.")}})()},[o]),a.jsxs("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:t?"12px":"16px",overflow:"hidden",fontFamily:'"Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, sans-serif'},children:[a.jsx(n.div,{className:"fixed inset-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},style:{background:`
            radial-gradient(ellipse 80% 50% at 50% -10%, rgba(106, 212, 160, 0.1) 0%, transparent 60%),
            radial-gradient(ellipse 60% 40% at 80% 100%, rgba(74, 168, 112, 0.06) 0%, transparent 50%),
            linear-gradient(to bottom, #12110f 0%, #0a0a09 100%)
          `,backgroundSize:"200% 200%",animation:"gradientMove 20s ease infinite"}}),a.jsx("style",{children:`
        @keyframes gradientMove {
          0%, 100% { background-position: 0% 0%; }
          50% { background-position: 100% 100%; }
        }
      `}),a.jsx($,{count:t?8:15}),a.jsx("div",{className:"fixed top-0 left-0 right-0 pointer-events-none",style:{height:t?"150px":"250px",background:"radial-gradient(ellipse 100% 100% at 50% -30%, rgba(106, 212, 160, 0.12) 0%, transparent 70%)",zIndex:1}}),a.jsx(n.div,{className:"w-full relative",style:{maxWidth:t?"100%":"420px",zIndex:10},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:a.jsxs("div",{style:{background:e.bgCard,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:t?"20px":"28px",border:`1px solid ${e.border}`,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.4), 0 0 60px rgba(106, 212, 160, 0.04)",padding:t?"24px":"36px",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",top:0,left:"15%",right:"15%",height:"1px",background:`linear-gradient(90deg, transparent, ${e.accent}50, transparent)`}}),a.jsxs("div",{className:"text-center",children:[a.jsx(n.div,{className:"flex justify-center",style:{marginBottom:"20px"},initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:a.jsx(n.div,{style:{padding:t?"16px":"20px",borderRadius:"24px",background:i==="loading"?`linear-gradient(145deg, ${e.accent}35, ${e.accent}15)`:i==="success"?`linear-gradient(145deg, ${e.success}35, ${e.success}15)`:`linear-gradient(145deg, ${e.error}35, ${e.error}15)`,border:`1px solid ${i==="loading"?e.accent:i==="success"?e.success:e.error}25`},animate:i==="loading"?{boxShadow:[`0 0 15px ${e.accent}30`,`0 0 25px ${e.accent}45`,`0 0 15px ${e.accent}30`]}:{},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:i==="loading"?a.jsx(n.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},children:a.jsx(h,{size:t?36:44,style:{color:e.accentLight,filter:`drop-shadow(0 0 8px ${e.accent})`}})}):i==="success"?a.jsx(b,{size:t?36:44,style:{color:e.success,filter:`drop-shadow(0 0 8px ${e.success})`}}):a.jsx(v,{size:t?36:44,style:{color:e.error,filter:`drop-shadow(0 0 8px ${e.error})`}})})}),a.jsxs(n.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},style:{fontSize:t?"22px":"28px",fontWeight:700,marginBottom:"12px",color:i==="success"?"#ffffff":i==="error"?"#fca5a5":"#ffffff"},children:[i==="loading"&&"Verifica in corso...",i==="success"&&"Email Verificata!",i==="error"&&"Verifica Fallita"]}),a.jsxs(n.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{color:"#ffffff",fontSize:t?"13px":"15px",marginBottom:"24px",lineHeight:1.5},children:[i==="loading"&&"Stiamo verificando il tuo indirizzo email...",i!=="loading"&&y]}),i!=="loading"&&a.jsx(n.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.6},style:{display:"flex",flexDirection:"column",gap:"12px"},children:i==="success"?a.jsxs(g,{to:"/login",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",height:t?"46px":"52px",fontSize:t?"15px":"16px",fontWeight:600,color:"#0a0a09",background:`linear-gradient(135deg, ${e.accentLight}, ${e.accent})`,borderRadius:t?"12px":"14px",textDecoration:"none",boxShadow:`0 4px 15px ${e.accent}25`},children:[a.jsx(j,{size:18}),"Vai al Login"]}):a.jsxs(a.Fragment,{children:[a.jsxs(g,{to:"/login",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",height:t?"46px":"52px",fontSize:t?"15px":"16px",fontWeight:600,color:e.textPrimary,background:"rgba(255, 255, 255, 0.05)",border:`1px solid ${e.border}`,borderRadius:t?"12px":"14px",textDecoration:"none"},children:[a.jsx(k,{size:18}),"Torna al Login"]}),a.jsx("p",{style:{fontSize:t?"11px":"12px",color:e.textMuted,textAlign:"center"},children:"Puoi richiedere un nuovo link di verifica dal login"})]})})]})]})})]})};export{L as VerifyEmail};
