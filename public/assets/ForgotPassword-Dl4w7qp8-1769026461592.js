import{r,j as e,n as v,L as h,g as y,b as u,d as k,q as w,p as S}from"./index-B7WG_kHJ-1769026461592.js";import{m as n}from"./motion-DSM7Rpg2-1769026461592.js";import{A as $}from"./index-yirOBEcN-1769026461592.js";const t={accent:"#6ad4a0",accentLight:"#a0e8c4",border:"rgba(106, 212, 160, 0.15)",borderGlow:"rgba(106, 212, 160, 0.4)",textMuted:"rgba(255, 255, 255, 0.5)",textPrimary:"#ffffff",bgCard:"rgba(20, 18, 15, 0.7)",error:"#ef4444",success:"#10b981"},z=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),L=({count:s=12})=>{const d=r.useMemo(()=>Array.from({length:s},(a,l)=>({id:l,size:2+Math.random()*3,left:Math.random()*100,delay:Math.random()*5,duration:10+Math.random()*10,opacity:.15+Math.random()*.25})),[s]);return e.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",style:{zIndex:1},children:d.map(a=>e.jsx(n.div,{className:"absolute rounded-full",style:{width:a.size,height:a.size,left:`${a.left}%`,bottom:"-10px",background:t.accent,boxShadow:`0 0 ${a.size}px ${t.accent}`,opacity:a.opacity},animate:{y:[0,-window.innerHeight-50],opacity:[0,a.opacity,a.opacity,0]},transition:{duration:a.duration,delay:a.delay,repeat:1/0,ease:"linear"}},a.id))})},B=()=>{const[s,d]=r.useState(""),[a,l]=r.useState(""),[c,x]=r.useState(!1),[f,g]=r.useState(!1),[i,b]=r.useState(!1),[p,m]=r.useState(!1);r.useEffect(()=>{const o=()=>b(window.innerWidth<640);return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const j=async o=>{if(o.preventDefault(),l(""),!s.trim()){l("Inserisci la tua email");return}if(!z(s)){l("Email non valida");return}x(!0);try{await S.post("/api/auth/forgot-password",{email:s.toLowerCase().trim()}),g(!0)}catch{g(!0)}finally{x(!1)}};return e.jsxs("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:i?"12px":"16px",overflow:"hidden",fontFamily:'"Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, sans-serif'},children:[e.jsx(n.div,{className:"fixed inset-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},style:{background:`
            radial-gradient(ellipse 80% 50% at 50% -10%, rgba(106, 212, 160, 0.1) 0%, transparent 60%),
            radial-gradient(ellipse 60% 40% at 80% 100%, rgba(74, 168, 112, 0.06) 0%, transparent 50%),
            linear-gradient(to bottom, #12110f 0%, #0a0a09 100%)
          `,backgroundSize:"200% 200%",animation:"gradientMove 20s ease infinite"}}),e.jsx("style",{children:`
        @keyframes gradientMove {
          0%, 100% { background-position: 0% 0%; }
          50% { background-position: 100% 100%; }
        }
      `}),e.jsx(L,{count:i?8:15}),e.jsx("div",{className:"fixed top-0 left-0 right-0 pointer-events-none",style:{height:i?"150px":"250px",background:"radial-gradient(ellipse 100% 100% at 50% -30%, rgba(106, 212, 160, 0.12) 0%, transparent 70%)",zIndex:1}}),e.jsx(n.div,{className:"w-full relative",style:{maxWidth:i?"100%":"420px",zIndex:10},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs("div",{style:{background:t.bgCard,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:i?"20px":"28px",border:`1px solid ${t.border}`,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.4), 0 0 60px rgba(106, 212, 160, 0.04)",padding:i?"24px":"36px",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:"15%",right:"15%",height:"1px",background:`linear-gradient(90deg, transparent, ${t.accent}50, transparent)`}}),f?e.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx(n.div,{className:"flex justify-center",style:{marginBottom:"20px"},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:e.jsx("div",{style:{padding:i?"16px":"20px",borderRadius:"24px",background:`linear-gradient(145deg, ${t.success}35, ${t.success}15)`,border:`1px solid ${t.success}25`},children:e.jsx(v,{size:i?36:44,style:{color:t.success,filter:`drop-shadow(0 0 8px ${t.success})`}})})}),e.jsx("h1",{style:{fontSize:i?"22px":"28px",fontWeight:700,marginBottom:"12px",background:`linear-gradient(135deg, ${t.success}, ${t.accent})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Email Inviata!"}),e.jsx("p",{style:{color:t.textMuted,fontSize:i?"13px":"15px",marginBottom:"24px",lineHeight:1.5},children:"Se l'indirizzo email esiste nel nostro sistema, riceverai un link per reimpostare la password. Controlla anche la cartella spam."}),e.jsxs(h,{to:"/login",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",height:i?"46px":"52px",fontSize:i?"15px":"16px",fontWeight:600,color:"#0a0a09",background:`linear-gradient(135deg, ${t.accentLight}, ${t.accent})`,borderRadius:i?"12px":"14px",textDecoration:"none",boxShadow:`0 4px 15px ${t.accent}25`},children:[e.jsx(y,{size:18}),"Torna al Login"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",style:{marginBottom:"24px"},children:[e.jsx(n.div,{className:"flex justify-center",style:{marginBottom:"16px"},initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:e.jsx(n.div,{style:{padding:i?"14px":"18px",borderRadius:"24px",background:`linear-gradient(145deg, ${t.accent}35, ${t.accent}15)`,border:`1px solid ${t.accent}25`},animate:{boxShadow:[`0 0 15px ${t.accent}30`,`0 0 25px ${t.accent}45`,`0 0 15px ${t.accent}30`]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:e.jsx(u,{size:i?28:34,style:{color:t.accentLight,filter:`drop-shadow(0 0 8px ${t.accent})`}})})}),e.jsx(n.h1,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},style:{fontSize:i?"22px":"28px",fontWeight:700,marginBottom:"8px",background:`linear-gradient(135deg, ${t.accentLight}, ${t.accent})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Password Dimenticata?"}),e.jsx(n.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{color:t.textMuted,fontSize:i?"13px":"14px",lineHeight:1.5},children:"Inserisci la tua email e ti invieremo un link per reimpostare la password."})]}),e.jsxs("form",{onSubmit:j,children:[e.jsxs(n.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.6},style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",fontSize:i?"12px":"13px",fontWeight:500,color:t.textMuted,marginBottom:"6px"},children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:p?t.accent:t.textMuted,display:"flex",alignItems:"center"},children:e.jsx(u,{size:i?16:18})}),e.jsx("input",{type:"email",value:s,onChange:o=>d(o.target.value),onFocus:()=>m(!0),onBlur:()=>m(!1),placeholder:"esempio@email.com",disabled:c,autoComplete:"email",style:{width:"100%",height:i?"44px":"50px",paddingLeft:i?"38px":"44px",paddingRight:"12px",fontSize:i?"14px":"15px",color:t.textPrimary,background:"rgba(255, 255, 255, 0.05)",border:`1px solid ${p?t.borderGlow:t.border}`,borderRadius:i?"12px":"14px",outline:"none",transition:"all 0.2s ease",boxShadow:p?`0 0 15px ${t.accent}25`:"none"}})]})]}),e.jsx($,{children:a&&e.jsx(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{padding:"10px 12px",borderRadius:"10px",background:`${t.error}12`,border:`1px solid ${t.error}30`,marginBottom:"16px"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{size:14,style:{color:t.error,flexShrink:0}}),e.jsx("p",{style:{fontSize:"12px",color:t.error,margin:0},children:a})]})})}),e.jsx(n.button,{type:"submit",disabled:c,initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.015},whileTap:{scale:.985},style:{width:"100%",height:i?"46px":"52px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:i?"15px":"16px",fontWeight:600,color:"#0a0a09",background:`linear-gradient(135deg, ${t.accentLight}, ${t.accent})`,border:"none",borderRadius:i?"12px":"14px",cursor:c?"not-allowed":"pointer",opacity:c?.6:1,boxShadow:`0 4px 15px ${t.accent}25`,marginBottom:"16px"},children:c?e.jsxs(e.Fragment,{children:[e.jsx(n.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:"18px",height:"18px",border:"2px solid rgba(0,0,0,0.2)",borderTopColor:"#0a0a09",borderRadius:"50%"}}),e.jsx("span",{children:"Invio in corso..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{size:18}),"Invia Link di Reset"]})}),e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center",children:e.jsxs(h,{to:"/login",className:"inline-flex items-center gap-1.5",style:{fontSize:i?"13px":"14px",color:t.accentLight,textDecoration:"none"},children:[e.jsx(y,{size:16}),e.jsx("span",{children:"Torna al Login"})]})})]})]})]})})]})};export{B as ForgotPassword};
