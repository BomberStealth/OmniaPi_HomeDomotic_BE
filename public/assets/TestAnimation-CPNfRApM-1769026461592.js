import{u as S,x as z,r,j as t,g as C,h as k,ai as R}from"./index-B7WG_kHJ-1769026461592.js";import{L as P}from"./Layout-BnB1agDJ-1769026461592.js";import{C as T}from"./Card-tMATpRxV-1769026461592.js";import{B as f}from"./Button-BLF6EOYE-1769026461592.js";import{s as c,f as p,r as L}from"./responsive-BJrBEfWo-1769026461592.js";import{A as u}from"./index-yirOBEcN-1769026461592.js";import{m as o}from"./motion-DSM7Rpg2-1769026461592.js";import"./useTranslation-CnXjuBvM-1769026461592.js";import"./omniapiApi-DDnppdd_-1769026461592.js";const X=()=>{const j=S(),{colors:i,modeColors:x,isDarkMode:M}=z(),[e,y]=r.useState("idle"),[g,b]=r.useState(0),[d,$]=r.useState(0),m=60,v=r.useMemo(()=>Array.from({length:m},(a,n)=>{const h=Math.floor(Math.random()*4);let s=0,l=0;switch(h){case 0:s=Math.random()*400-200,l=-200-Math.random()*50;break;case 1:s=200+Math.random()*50,l=Math.random()*400-200;break;case 2:s=Math.random()*400-200,l=200+Math.random()*50;break;case 3:s=-200-Math.random()*50,l=Math.random()*400-200;break}return{id:n,startX:s,startY:l,delay:Math.random()*.5,duration:1+Math.random()*.5,size:4+Math.random()*6}}),[d]),A=r.useCallback(()=>{e!=="idle"&&e!=="complete"||($(a=>a+1),b(0),y("gathering"))},[e]),w=r.useCallback(()=>{b(a=>{const n=a+1;return n>=m&&(setTimeout(()=>y("exploding"),200),setTimeout(()=>y("complete"),1500)),n})},[]),I=e==="gathering"?.1+g/m*.9:e==="exploding"?1.3:1;return t.jsxs(P,{children:[t.jsxs("div",{className:"flex items-center",style:{gap:c.sm,marginBottom:c.lg},children:[t.jsx(f,{variant:"ghost",onClick:()=>j("/settings"),children:t.jsx(C,{size:20})}),t.jsx("h1",{style:{fontSize:p.xl,fontWeight:"bold",color:x.textPrimary},children:"Test Animazione"})]}),t.jsxs(T,{variant:"glass",style:{padding:c.lg},children:[t.jsxs("div",{style:{position:"relative",height:400,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:L.lg,background:M?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.1)"},children:[t.jsx(u,{children:e==="gathering"&&v.map(a=>t.jsx(o.div,{initial:{x:a.startX,y:a.startY,opacity:0,scale:1},animate:{x:0,y:0,opacity:[0,1,1,.5],scale:[1,.5]},transition:{duration:a.duration,delay:a.delay,ease:"easeIn"},onAnimationComplete:w,style:{position:"absolute",width:a.size,height:a.size,borderRadius:"50%",background:i.accent,boxShadow:`0 0 ${a.size*2}px ${i.accent}`}},`particle-${a.id}-${d}`))}),(e==="gathering"||e==="exploding")&&t.jsx(t.Fragment,{children:[0,.3,.6].map((a,n)=>t.jsx(o.div,{className:"absolute rounded-full",initial:{scale:.3,opacity:.8},animate:{scale:4,opacity:0},transition:{duration:2,delay:a,ease:"easeOut",repeat:1/0,repeatDelay:1},style:{width:120,height:120,border:`2px solid ${i.accent}`}},`ring-${n}`))}),(e==="gathering"||e==="exploding"||e==="complete")&&t.jsx(o.div,{animate:{scale:I,boxShadow:e==="exploding"?`0 0 100px ${i.accent}, 0 0 200px ${i.accent}50`:`0 0 ${30+g}px ${i.accent}`,rotate:e==="exploding"?[0,360]:0},transition:{duration:e==="exploding"?.5:.2,rotate:{duration:.5}},style:{position:"absolute",zIndex:20,display:"flex",alignItems:"center",justifyContent:"center",width:100,height:100,borderRadius:"50%",background:e==="complete"?`linear-gradient(135deg, ${i.accent}, ${i.accentDark||i.accent})`:`radial-gradient(circle, ${i.accent}40, transparent)`},children:t.jsx(k,{size:60,color:e==="complete"?"#fff":i.accent})}),t.jsx(u,{children:e==="exploding"&&Array.from({length:80}).map((a,n)=>{const h=n/80*Math.PI*2,s=150+Math.random()*100;return t.jsx(o.div,{initial:{x:0,y:0,opacity:1,scale:1},animate:{x:Math.cos(h)*s,y:Math.sin(h)*s,opacity:0,scale:0},transition:{duration:.8,ease:"easeOut"},style:{position:"absolute",width:6,height:6,borderRadius:"50%",background:n%3===0?"#fff":i.accent,boxShadow:`0 0 10px ${i.accent}`}},`explode-${n}-${d}`)})}),t.jsx(u,{children:e==="exploding"&&[1,2,3,4,5].map(a=>t.jsx(o.div,{initial:{scale:.2,opacity:1},animate:{scale:5,opacity:0},transition:{duration:1,delay:a*.1,ease:"easeOut"},style:{position:"absolute",width:80,height:80,borderRadius:"50%",border:`3px solid ${i.accent}`,boxShadow:`0 0 20px ${i.accent}`}},`wave-${a}-${d}`))}),e==="exploding"&&t.jsx(t.Fragment,{children:[...Array(12)].map((a,n)=>t.jsx(o.div,{className:"absolute rounded-full",style:{width:4+n%3*2,height:4+n%3*2,background:i.accent},initial:{x:0,y:0,opacity:0},animate:{x:Math.cos(n*30*Math.PI/180)*(120+n*8),y:Math.sin(n*30*Math.PI/180)*(120+n*8),opacity:[0,.8,0]},transition:{duration:1.5,delay:n*.05}},`decor-${n}`))}),e==="complete"&&t.jsxs(t.Fragment,{children:[[1,2,3].map(a=>t.jsx(o.div,{initial:{scale:.5,opacity:.6},animate:{scale:3.5,opacity:0},transition:{duration:2.5,delay:a*.6,repeat:1/0,repeatDelay:.3,ease:"easeOut"},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:100,height:100,borderRadius:"50%",border:`2px solid ${i.accent}`,boxShadow:`0 0 20px ${i.accent}40`,pointerEvents:"none",zIndex:0}},`loop-ring-${a}`)),t.jsx(o.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:80},transition:{duration:.5,delay:.3},style:{position:"absolute",textAlign:"center",zIndex:10},children:t.jsx("h2",{style:{color:i.accent,fontSize:p.xl,fontWeight:"bold",margin:0,textShadow:`0 0 20px ${i.accent}50`},children:"Impianto Creato!"})})]}),(e==="idle"||e==="complete")&&t.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:e==="complete"?1:0},style:{position:"absolute",bottom:30},children:t.jsxs(f,{variant:"primary",onClick:A,children:[t.jsx(R,{size:20,style:{marginRight:c.xs}}),e==="idle"?"AVVIA ANIMAZIONE":"RIPETI"]})}),e==="gathering"&&t.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},style:{position:"absolute",bottom:20,color:x.textSecondary,fontSize:p.sm},children:[Math.round(g/m*100),"%"]})]}),t.jsx("p",{className:"text-center",style:{marginTop:c.md,fontSize:p.sm,color:x.textSecondary},children:"Animazione Cyber - Particelle da tutti i lati"})]})]})};export{X as TestAnimation};
